# RT / NRT 분리 스케줄링
## RT / NRT 개념
IoT 시스템이나 임베디드 제어 환경에서는, 센서 데이터의 주기적인 수집과 액츄에이터의 즉각적인 제어가 동시에 이루어집니다. 하지만 모든 작업이 동일한 우선순위를 가지면, 제어 타이밍이 지연되거나 데이터 처리가 밀리는 문제가 발생할 수 있습니다. 이를 해결하기 위해 시스템은 작업의 성격에 따라 다음과 같이 분리됩니다.

| 구분 | 의미 | 설명 | 예시 |
| :---: | :--- | :--- | :--- |
| **RT (Real-Time)** | 실시간 태스크  | 반드시 일정 주기 내에 완료되어야 하는 작업 | 모터 제어, 센서 샘플링, PID 연산 등  |
| **NRT (Non-Real-Time)** | 비실시간 태스크 | 즉각적인 응답이 필요하지 않은 일반 작업   | 로그 저장, LCD 표시, 네트워크 송신 등 |

## RT/NRT 분리의 필요성
한정된 CPU 자원에서 모든 작업을 동시에 수행하면, 우선순위가 낮은 작업이 실시간 작업을 방해할 수 있습니다.

예를 들어, 센서 제어(10ms 주기)와 LCD 표시(500ms 주기)를 동시에 처리할 때 LCD 출력이 오래 걸리면, 센서 제어가 제시간에 실행되지 않을 수 있습니다.

이러한 상황을 방지하기 위해, RT 작업은 일정한 주기 기반으로, NRT 작업은 여유 시간에만 실행되도록 분리 스케줄링을 적용합니다.

## 스케줄링 구조
RT/NRT 분리 스케줄링은 일반적으로 다음 구조를 가집니다.
[System Scheduler]
 ├── RT 영역 (Real-Time Core)
 │     ├─ 주기 제어 루프 (예: 20ms)
 │     ├─ 센서 데이터 샘플링
 │     └─ PID, PWM 제어 등
 │
 └── NRT 영역 (Non-Real-Time)
       ├─ LCD, 로그, 네트워크 전송
       ├─ 사용자 명령 처리
       └─ 상태 모니터링

## RT / NRT 실행 방식 비교
| 항목 | RT (Real-Time) | NRT (Non-Real-Time) |
| :---: | :--- | :--- |
| 실행 시점 | 고정 주기 | 유휴 시간 또는 이벤트 발생 시 |
| 우선순위 | 매우 높음 | 낮음 |
| 시간 제한 | 반드시 존재 | 없음 |
| 예측 가능성 | 높음 (Deterministic) | 낮음 |
| 대표 예시 | 모터제어, PWM, PID, 센서루프 | LCD 표시, 파일 저장, 통신 송신 |


