# Motion Sensor  
ëª¨ì…˜ ì„¼ì„œëŠ” **ì›€ì§ìž„(Motion)** ì„ ê°ì§€í•˜ëŠ” ì„¼ì„œë¡œ, ì£¼ë¡œ ì‚¬ëžŒì´ë‚˜ ë¬¼ì²´ì˜ ì¡´ìž¬ ì—¬ë¶€ë¥¼ íŒŒì•…í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.  
ì—¬ê¸°ì„œ ì‚¬ìš©ë˜ëŠ” ì„¼ì„œëŠ” **HMMd mmWave (ë°€ë¦¬ë¯¸í„°íŒŒ ë ˆì´ë”)** ê¸°ë°˜ì˜ ì„¼ì„œë¡œ, **PIR ì„¼ì„œë³´ë‹¤ í›¨ì”¬ ì •ë°€í•˜ê²Œ ê±°ë¦¬ì™€ ì›€ì§ìž„ì„ ê°ì§€**í•  ìˆ˜ ìžˆëŠ” ìž¥ì ì„ ê°€ì§€ê³  ìžˆìŠµë‹ˆë‹¤.  

ë°€ë¦¬ë¯¸í„°íŒŒ(Millimeter Wave)ëŠ” **24GHz ~ 60GHz ëŒ€ì—­ì˜ ì „ìžíŒŒ**ë¥¼ ì´ìš©í•˜ë©°,  
ì´ ì‹ í˜¸ê°€ **ë¬¼ì²´ì— ë°˜ì‚¬ë˜ì–´ ëŒì•„ì˜¤ëŠ” ì‹œê°„(Time-of-Flight)** ë˜ëŠ” **ë„í”ŒëŸ¬ íš¨ê³¼(Doppler Effect)** ë¥¼ ë¶„ì„í•¨ìœ¼ë¡œì¨ ì›€ì§ìž„ê³¼ ê±°ë¦¬ ì •ë³´ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.  

## ë°€ë¦¬ë¯¸í„°íŒŒ(Motion Sensing) ì›ë¦¬  
ë°€ë¦¬ë¯¸í„°íŒŒ ëª¨ì…˜ ì„¼ì„œëŠ” í¬ê²Œ ë‹¤ìŒ ë‘ ê°€ì§€ ë¬¼ë¦¬ì  ì›ë¦¬ë¥¼ ì´ìš©í•©ë‹ˆë‹¤.  

| ì›ë¦¬ | ì„¤ëª… |
|:---|:---|
| **ë„í”ŒëŸ¬ íš¨ê³¼ (Doppler Effect)** | ì›€ì§ì´ëŠ” ë¬¼ì²´ê°€ ìžˆì„ ë•Œ, ë°˜ì‚¬íŒŒì˜ ì£¼íŒŒìˆ˜ê°€ ë³€í•˜ëŠ” í˜„ìƒìœ¼ë¡œ ì†ë„ì™€ ë°©í–¥ì„ ê³„ì‚°í•©ë‹ˆë‹¤. |
| **ì‹œê°„ ì§€ì—° (Time of Flight)** | ì†¡ì‹ ëœ ì „íŒŒê°€ ë¬¼ì²´ì— ë°˜ì‚¬ë˜ì–´ ëŒì•„ì˜¤ëŠ” ì‹œê°„ì„ ì¸¡ì •í•˜ì—¬ ê±°ë¦¬ ì •ë³´ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. |

ì´ ì„¼ì„œëŠ” PIR(Passive Infrared) ì„¼ì„œì™€ ë‹¬ë¦¬, **ë¹›ì´ë‚˜ ì˜¨ë„ ë³€í™”ì˜ ì˜í–¥ì„ ë°›ì§€ ì•Šê³  ì–´ë‘ìš´ ê³³ì—ì„œë„ ì •í™•ížˆ ë™ìž‘**í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.  
ë˜í•œ **ì‚¬ëžŒì´ ì„œ ìžˆëŠ”ì§€, ê±·ê³  ìžˆëŠ”ì§€, ë¨¸ë¬´ë¥´ê³  ìžˆëŠ”ì§€** ë“± ë‹¤ì–‘í•œ ìƒíƒœë¥¼ êµ¬ë¶„í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.  

> ðŸ’¡ **PIR ì„¼ì„œì™€ mmWave ì„¼ì„œì˜ ì°¨ì´ì **
> - PIRì€ ë‹¨ìˆœí•œ "ì›€ì§ìž„ ê°ì§€"ë§Œ ê°€ëŠ¥  
> - mmWaveëŠ” "ê±°ë¦¬ + ì†ë„ + ì›€ì§ìž„ íŒ¨í„´" ë¶„ì„ì´ ê°€ëŠ¥  

## Motion Sensor ì—°ê²° êµ¬ì„± 

| Pin | ì—°ê²° ëŒ€ìƒ | ì„¤ëª… |
|:---:|:---:|:---|
| 5V | +5V | ì „ì› |
| GND | GND | ì ‘ì§€ |
| GP4 | Tx | UART ì†¡ì‹  |
| GP5 | Rx | UART ìˆ˜ì‹ |

![Motion Connection](res/motion%20connection.png)

## Motion Sensor ì œì–´ ì½”ë“œ 
ë‹¤ìŒì€ ëª¨ì…˜ ì„¼ì„œë¡œë¶€í„° ê±°ë¦¬ ì •ë³´ë¥¼ UART í†µì‹ ì„ í†µí•´ ìˆ˜ì‹ í•˜ëŠ” ì˜ˆì œ ì½”ë“œìž…ë‹ˆë‹¤.  

```python
from machine import UART, Pin
import time

uart = UART(1, 115200, tx=Pin(4), rx =Pin(5), timeout=100)

while True:
    line = uart.readline()
    if not line:
        time.sleep_ms(10)
        continue
    try:
        s = line.decode().strip()
    except UnicodeError:
        continue

    if s.lower().startswith("range"):
        parts = s.split()
        if len(parts) >= 2:
            try:
                val = int(parts[1])
                print(val)
            except ValueError:
                pass   
```