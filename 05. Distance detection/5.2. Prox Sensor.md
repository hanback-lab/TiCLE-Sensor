# Prox Sensor 
**Prox Sensor**(근접 센서)는 물체가 일정 거리 내에 접근했을 때 이를 감지하는 센서입니다.  
그중에서도 **Inductive Proximity Sensor(유도형 근접 센서)** 는 **금속 물체**가 가까이 왔을 때,  
센서 내부의 **자기장 변화**를 감지하여 출력 신호를 발생시키는 방식으로 작동합니다.  

이 센서는 **비접촉식 금속 감지**가 가능하므로 마모가 거의 없고,  
공장 자동화 라인이나 물류 분류 시스템 등에서 매우 널리 사용됩니다.  

![Prox Sensor]()

## 동작 원리  

Inductive Prox Sensor는 내부에 **고주파 발진 회로**를 가지고 있으며,  
코일을 통해 **교류 자기장**을 발생시킵니다.  

- 금속 물체가 근접하면, 금속 내부에 **유도 전류(eddy current)** 가 흐르게 되고  
  이로 인해 센서 코일의 **발진 진폭이 변화**합니다.  
- 이 변화를 회로가 감지하여 출력 신호(ON/OFF)를 발생시킵니다.  

이때 감지 거리는 **금속의 종류, 크기, 센서의 형식(Flush / Non-flush)** 등에 따라 달라집니다.

## Prox Sensor 연결 구성 
| Pin 번호 | 연결 대상 | 설명 |
|:---:|:---:|:---|
| VCC | 5V | 센서 전원 입력 |
| GND | GND | 접지 |
| OUT | GP27 | 감지 신호 출력 (LOW: 감지, HIGH: 미감지) |

![prox connection]()

## Prox Sensor 제어 코드 

```python
from machine import Pin
import utime 

PIN_PROX   = 27

def main():
    prox = Pin(PIN_PROX, Pin.IN, Pin.PULL_UP)
    try:
        while True:
            print(f"Prox:{prox.value()}")
            utime.sleep_ms(500)
    except KeyboardInterrupt:
        print("End.")

if __name__ == "__main__":
    main()
```

## 물체 분류 시뮬레이션 

```python
from machine import Pin, PWM
import utime

prox  = Pin(27, Pin.IN, Pin.PULL_UP)
servo = PWM(Pin(16))
servo.freq(50)

def set_angle(angle):
    duty = int(1638 + (angle / 180) * (8192 - 1638))
    servo.duty_u16(duty)

while True:
    if prox.value() == 0:
        print("금속 감지 → 컨베이어 방향 변경!")
        set_angle(120)
        utime.sleep(1)
    else:
        set_angle(60)
    utime.sleep_ms(200)
```